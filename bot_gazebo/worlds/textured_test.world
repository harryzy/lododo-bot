<?xml version="1.0" ?>
<!--
  Textured Test World for Visual Odometry / 视觉里程计纹理测试世界
  
  This world provides rich visual features for RTAB-Map rgbd_odometry.
  此世界为 RTAB-Map rgbd_odometry 提供丰富的视觉特征。
  
  Features / 特征:
    - Textured walls using Gazebo built-in materials
    - 使用 Gazebo 内置材质的纹理墙壁
    - Various obstacles with different textures
    - 具有不同纹理的各种障碍物
    - Adequate lighting for visual tracking
    - 适合视觉追踪的充足照明
    
  Note: Visual odometry requires textured environments.
  注意：视觉里程计需要有纹理的环境。
  Plain color geometry provides no trackable features.
  纯色几何体不提供可追踪的特征。
-->
<sdf version="1.6">
  <world name="textured_test">
    
    <!-- ================================================================== -->
    <!-- Physics Configuration / 物理配置                                    -->
    <!-- Optimized for simulation performance                               -->
    <!-- 优化仿真性能                                                        -->
    <!-- ================================================================== -->
    <physics type="ode">
      <max_step_size>0.01</max_step_size>
      <real_time_factor>1</real_time_factor>
      <real_time_update_rate>100</real_time_update_rate>
      <gravity>0 0 -9.8</gravity>
      <ode>
        <solver>
          <type>quick</type>
          <iters>50</iters>
          <sor>1.3</sor>
        </solver>
        <constraints>
          <cfm>0.0</cfm>
          <erp>0.2</erp>
        </constraints>
      </ode>
    </physics>

    <!-- ================================================================== -->
    <!-- Scene Configuration / 场景配置                                      -->
    <!-- ================================================================== -->
    <scene>
      <ambient>0.6 0.6 0.6 1</ambient>
      <background>0.7 0.8 0.9 1</background>
      <shadows>true</shadows>
    </scene>

    <!-- ================================================================== -->
    <!-- Lighting / 照明                                                     -->
    <!-- Multiple light sources for good visual feature detection           -->
    <!-- 多个光源以获得良好的视觉特征检测                                     -->
    <!-- ================================================================== -->
    
    <!-- Main Sun Light / 主太阳光 -->
    <light name="sun" type="directional">
      <cast_shadows>true</cast_shadows>
      <pose>0 0 10 0 0 0</pose>
      <diffuse>0.8 0.8 0.8 1</diffuse>
      <specular>0.3 0.3 0.3 1</specular>
      <attenuation>
        <range>1000</range>
        <constant>0.9</constant>
        <linear>0.01</linear>
        <quadratic>0.001</quadratic>
      </attenuation>
      <direction>-0.5 0.1 -0.9</direction>
    </light>
    
    <!-- Fill Light 1 / 补光 1 -->
    <light name="fill_light_1" type="point">
      <pose>3 3 2.5 0 0 0</pose>
      <diffuse>0.5 0.5 0.5 1</diffuse>
      <specular>0.1 0.1 0.1 1</specular>
      <attenuation>
        <range>20</range>
        <constant>0.5</constant>
        <linear>0.01</linear>
        <quadratic>0.001</quadratic>
      </attenuation>
    </light>
    
    <!-- Fill Light 2 / 补光 2 -->
    <light name="fill_light_2" type="point">
      <pose>-3 -3 2.5 0 0 0</pose>
      <diffuse>0.5 0.5 0.5 1</diffuse>
      <specular>0.1 0.1 0.1 1</specular>
      <attenuation>
        <range>20</range>
        <constant>0.5</constant>
        <linear>0.01</linear>
        <quadratic>0.001</quadratic>
      </attenuation>
    </light>

    <!-- ================================================================== -->
    <!-- Ground Plane with Texture / 带纹理的地面                            -->
    <!-- ================================================================== -->
    <model name="ground_plane">
      <static>true</static>
      <link name="link">
        <collision name="collision">
          <geometry>
            <plane>
              <normal>0 0 1</normal>
              <size>20 20</size>
            </plane>
          </geometry>
          <surface>
            <friction>
              <ode>
                <mu>100</mu>
                <mu2>50</mu2>
              </ode>
            </friction>
          </surface>
        </collision>
        <visual name="visual">
          <geometry>
            <plane>
              <normal>0 0 1</normal>
              <size>20 20</size>
            </plane>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/WoodFloor</name>
            </script>
          </material>
        </visual>
      </link>
    </model>

    <!-- ================================================================== -->
    <!-- Textured Walls / 纹理墙壁                                           -->
    <!-- Using Gazebo built-in materials for visual features                -->
    <!-- 使用 Gazebo 内置材质提供视觉特征                                     -->
    <!-- ================================================================== -->
    
    <!-- North Wall - Bricks / 北墙 - 砖块 -->
    <model name="wall_north">
      <static>true</static>
      <pose>0 5 1.0 0 0 0</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>10 0.2 2.0</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>10 0.2 2.0</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Bricks</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- South Wall - Wood / 南墙 - 木材 -->
    <model name="wall_south">
      <static>true</static>
      <pose>0 -5 1.0 0 0 0</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>10 0.2 2.0</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>10 0.2 2.0</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Wood</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- East Wall - Pallet Wood / 东墙 - 托盘木材 -->
    <model name="wall_east">
      <static>true</static>
      <pose>5 0 1.0 0 0 1.5708</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>10 0.2 2.0</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>10 0.2 2.0</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/WoodPallet</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- West Wall - Rocky / 西墙 - 岩石 -->
    <model name="wall_west">
      <static>true</static>
      <pose>-5 0 1.0 0 0 1.5708</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>10 0.2 2.0</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>10 0.2 2.0</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Rocky</name>
            </script>
          </material>
        </visual>
      </link>
    </model>

    <!-- ================================================================== -->
    <!-- Interior Obstacles with Textures / 带纹理的内部障碍物                -->
    <!-- Various shapes and textures for visual feature diversity           -->
    <!-- 各种形状和纹理以提供视觉特征多样性                                   -->
    <!-- ================================================================== -->
    
    <!-- Box 1 - Bricks / 箱子 1 - 砖块 -->
    <model name="box_brick_1">
      <static>true</static>
      <pose>2 2 0.4 0 0 0.3</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>0.8 0.8 0.8</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>0.8 0.8 0.8</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Bricks</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- Box 2 - Wood / 箱子 2 - 木材 -->
    <model name="box_wood_1">
      <static>true</static>
      <pose>-2 2 0.35 0 0 0.8</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>0.7 0.7 0.7</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>0.7 0.7 0.7</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Wood</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- Box 3 - Wood Pallet / 箱子 3 - 托盘木材 -->
    <model name="box_pallet_1">
      <static>true</static>
      <pose>2 -2 0.5 0 0 -0.4</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>1.0 1.0 1.0</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>1.0 1.0 1.0</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/WoodPallet</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- Box 4 - Cement / 箱子 4 - 水泥 -->
    <model name="box_cement_1">
      <static>true</static>
      <pose>-2 -2 0.3 0 0 1.2</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>0.6 0.6 0.6</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>0.6 0.6 0.6</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/CeilingTiled</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- Cylinder 1 - Grass / 圆柱 1 - 草地 -->
    <model name="cylinder_grass_1">
      <static>true</static>
      <pose>0 3 0.5 0 0 0</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <cylinder>
              <radius>0.4</radius>
              <length>1.0</length>
            </cylinder>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <cylinder>
              <radius>0.4</radius>
              <length>1.0</length>
            </cylinder>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Grass</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- Cylinder 2 - Rocky / 圆柱 2 - 岩石 -->
    <model name="cylinder_rocky_1">
      <static>true</static>
      <pose>0 -3 0.6 0 0 0</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <cylinder>
              <radius>0.5</radius>
              <length>1.2</length>
            </cylinder>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <cylinder>
              <radius>0.5</radius>
              <length>1.2</length>
            </cylinder>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Rocky</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- Cylinder 3 - Red Brick / 圆柱 3 - 红砖 -->
    <model name="cylinder_redbrick_1">
      <static>true</static>
      <pose>3 0 0.4 0 0 0</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <cylinder>
              <radius>0.3</radius>
              <length>0.8</length>
            </cylinder>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <cylinder>
              <radius>0.3</radius>
              <length>0.8</length>
            </cylinder>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/RedBright</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- Cylinder 4 - Blue / 圆柱 4 - 蓝色 -->
    <model name="cylinder_blue_1">
      <static>true</static>
      <pose>-3 0 0.45 0 0 0</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <cylinder>
              <radius>0.35</radius>
              <length>0.9</length>
            </cylinder>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <cylinder>
              <radius>0.35</radius>
              <length>0.9</length>
            </cylinder>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/BlueLaser</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- ================================================================== -->
    <!-- Additional Feature-Rich Objects / 额外的特征丰富对象                 -->
    <!-- Smaller objects to provide close-range features                    -->
    <!-- 小型物体提供近距离特征                                              -->
    <!-- ================================================================== -->
    
    <!-- Small Box 1 / 小箱子 1 -->
    <model name="small_box_1">
      <static>true</static>
      <pose>1 0.5 0.15 0 0 0.5</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>0.3 0.3 0.3</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>0.3 0.3 0.3</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Orange</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- Small Box 2 / 小箱子 2 -->
    <model name="small_box_2">
      <static>true</static>
      <pose>-1 0.5 0.15 0 0 -0.3</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>0.3 0.3 0.3</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>0.3 0.3 0.3</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Purple</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- Small Box 3 / 小箱子 3 -->
    <model name="small_box_3">
      <static>true</static>
      <pose>1 -0.5 0.15 0 0 0.7</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>0.3 0.3 0.3</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>0.3 0.3 0.3</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Yellow</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- Small Box 4 / 小箱子 4 -->
    <model name="small_box_4">
      <static>true</static>
      <pose>-1 -0.5 0.15 0 0 -0.6</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>0.3 0.3 0.3</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>0.3 0.3 0.3</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Green</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- ================================================================== -->
    <!-- L-shaped Barrier / L形障碍物                                        -->
    <!-- Creates navigation challenge                                       -->
    <!-- 创建导航挑战                                                        -->
    <!-- ================================================================== -->
    
    <!-- L-barrier Part 1 / L障碍物部分 1 -->
    <model name="l_barrier_1">
      <static>true</static>
      <pose>-0.5 3.5 0.3 0 0 0</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>2.0 0.2 0.6</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>2.0 0.2 0.6</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/SkyBlue</name>
            </script>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- L-barrier Part 2 / L障碍物部分 2 -->
    <model name="l_barrier_2">
      <static>true</static>
      <pose>0.4 2.9 0.3 0 0 1.5708</pose>
      <link name="link">
        <collision name="collision">
          <geometry>
            <box><size>1.0 0.2 0.6</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>1.0 0.2 0.6</size></box>
          </geometry>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/SkyBlue</name>
            </script>
          </material>
        </visual>
      </link>
    </model>

  </world>
</sdf>
